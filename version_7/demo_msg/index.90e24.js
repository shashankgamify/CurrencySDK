window.__require=function t(e,n,o){function r(c,u){if(!n[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var s="function"==typeof __require&&__require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return r(e[c][1][t]||t)},l,l.exports,t,e,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)r(o[c]);return r}({GameDemo:[function(t,e,n){"use strict";cc._RF.push(e,"cc73aILvFZJYKkm+B4NnMOc","GameDemo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,c=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(c=(i<3?r(c):i>3?r(e,n,c):r(e,n))||c);return i>3&&c&&Object.defineProperty(e,n,c),c},c=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function c(t){try{a(o.next(t))}catch(e){i(e)}}function u(t){try{a(o.throw(t))}catch(e){i(e)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(c,u)}a((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,o,r,i,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(t){return function(e){return a([t,e])}}function a(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,o=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){c.label=i[1];break}if(6===i[0]&&c.label<r[1]){c.label=r[1],r=i;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(i);break}r[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(u){i=[6,u],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinCounter=0,e.isSpinCounterActive=!1,e.spinLimit=2,e.onSpinPromiseReturn=null,e.msg_label=null,e.ok_label=null,e.cancel_label=null,e}return r(e,t),e.prototype.onLoad=function(){this.node.active=!1},e.prototype.initialize=function(){return c(this,void 0,void 0,function(){return u(this,function(){return this.spinCounter=0,this.isSpinCounterActive=!1,"true"===new URLSearchParams(window.location.search).get("isFun")&&(this.isSpinCounterActive=!0),[2]})})},e.prototype.getMsgLabelStr=function(){return this.msg_label.string},e.prototype.setMsg=function(t){this.msg_label.string=t},e.prototype.onSpinListener=function(){return c(this,void 0,Promise,function(){var t=this;return u(this,function(){return[2,new Promise(function(e){t.isSpinCounterActive?(++t.spinCounter,t.spinCounter>=t.spinLimit?(t.onSpinPromiseReturn=e,t.spinCounter=0,t.showPopup()):e()):e()})]})})},e.prototype.showPopup=function(){var t=this;cc.Tween.stopAllByTarget(this.node),this.node.opacity=0,this.node.active=!0,cc.tween(this.node).to(.4,{opacity:255}).call(function(){t.node.opacity=255}).start()},e.prototype.onOkListener=function(){var t=this;cc.Tween.stopAllByTarget(this),this.node.active=!0,this.node.opacity=255,this.isSpinCounterActive&&this.onSpinPromiseReturn&&this.onSpinPromiseReturn(),cc.tween(this.node).to(.4,{opacity:0}).call(function(){t.node.opacity=0}).start(),this.node.active=!1},e.prototype.onCancelListener=function(){window.location.reload()},i([l(cc.Label)],e.prototype,"msg_label",void 0),i([l(cc.Label)],e.prototype,"ok_label",void 0),i([l(cc.Label)],e.prototype,"cancel_label",void 0),i([s],e)}(cc.Component);n.default=p,cc._RF.pop()},{}]},{},["GameDemo"]);